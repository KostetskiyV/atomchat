<h1 align="center">Инструкция по деплою ATOMCHAT</h1>
<p>0. Установите Python 3, если он не установлен.</p>
<p>1. Скачайте родительскую директорию atomsite.</p>
<p>2. Откройте терминал и перейдите в неё.</p>
<p>3. Находясь в режиме суперпользователя пропишите команды: «pip install -r requirements.txt», «python manage.py makemigrations», «python manage.py migrate»</p>
<p>4. Запустите проект, прописав команду «python manage.py runserver»</p>

<h2 align="center">Фунционал</h2>
<p>Пользователь взаимодействует с сервером посредством принятия/отправки JSON объектов (результат HTTP-запроса) по фиксированным URL-адресам API сервера. Для удобства рекомендуется использование программ для генерации HTTP-запросов.</p>

<p>Для добавления пользователя с правами администратора, пропишите в терминале «python manage.py createsuperuser», находясь в корневой папке проекта, затем укажите имя администратора и пароль, подтвердите пароль.</p>

<h3>URL API ATOMCHAT Server: localhost:8000/api/v1/</h3>
<p>Все нижеуказанные cсылки являются дочерними к адресу вышеуказанного API сервера.</p>

**URLs:**

<ul>
<li><h4>users/registrate/ (POST)</h4>
<p>localhost:8000/api/v1/users/registrate/</p>
<p>Регистрирует пользователя, принимает POST запросы, типа:</p>

```json
{
    "user": {
        "username": username,
        "password": password
    }
}
```
<p>В качестве username и password подаются строковые переменные, содержащие имя и пароль пользователя.</p>
<p>В ответ сервер возвращает имя пользователя и его авторизационный токен или сообщение об ошибке в теле запроса.</p></li>

<li><h4>users/login/ (POST)</h4>
<p>localhost:8000/api/v1/users/login/</p>
<p>Авторизирует пользователя, принимает POST запросы, типа:</p>

```json
{
    "user": {
        "username": username,
        "password": password
    }
}
```
<p>В качестве username и password подаются строковые переменные, содержащие имя и пароль пользователя.</p>
<p>В ответ сервер возвращает имя пользователя и его аутентификационный токен или сообщение об ошибке в теле запроса.</p></li>

<li><h4>users/block/ (POST)</h4>
<p>localhost:8000/api/v1/users/block/</p>
<p>Заблокировать пользователя, отключив ему доступ к функционалу приложения и скрыв все его сообщения, доступно только пользователям с правами администратора. Принимает POST запросы, типа:</p>

```json
{
    "users": {
        "usernames": usernames
    }
}
```
<p>В качестве usernames подаётся массив строковых переменных, содержащих имена блокируемых пользователей.</p>
<p>В header запроса передаётся переменная Token, содержащая аутентификационный токен, полученный при авторизации.</p>
<p>В ответ сервер возвращает имена заблокированных пользователей или сообщение об ошибке.</p></li>

<li><h4>users/unlock/ (POST)</h4>
<p>localhost:8000/api/v1/users/unlock/</p>
<p>Разблокировать пользователя, вернув ему доступ к функционалу приложения и вновь показывать все его сообщения, доступно только пользователям с правами администратора. Принимает POST запросы, типа:</p>
      
```json
{
    "users": {
        "usernames": usernames
    }
}
```
<p>В качестве usernames подаётся массив строковых переменных, содержащих имена разблокируемых пользователей.</p>
<p>В header запроса передаётся переменная Token, содержащая аутентификационный токен, полученный при авторизации.</p>
<p>В ответ сервер возвращает имена разблокированных пользователей или сообщение об ошибке.</p></li>

<li><h4>users/user/<strong>USER</strong>/ (GET)</h4>
<p>localhost:8000/api/v1/users/user/<strong>USER</strong></p>
<p>Получить имя и аутентификационный токен пользователя. Вместо <strong>USER</strong> в адресной строке указывается имя искомого пользователя. Принимает GET запросы.</p>
<p>В header запроса передаётся переменная Token, содержащая аутентификационный токен, полученный при авторизации.</p>
<p>В тело запроса не передаётся данных.</p>
<p>В ответ сервер возвращает имя и аутентификационный токен пользователя или сообщение об ошибке.</p></li>

<li><h4>messenger/create-chat/ (POST)</h4>
<p>localhost:8000/api/v1/messenger/create-chat</p>
<p>Создать приватный чат, принимает POST запросы, типа:</p>
      
```json
{
    "chat": {
        "name": chatname,
        "users": users
    }
}
```
<p>В качестве chatname подаётся строковая переменная, содержащая название чата, в качестве users массив строковых переменных, содержащий имена пользоватей добавляемых в чат. Если пользователь, создающий чат не указан в массиве users, он всё равно будет добавлен.</p>
<p>В header запроса передаётся переменная Token, содержащая аутентификационный токен, полученный при авторизации.</p>
<p>В ответ сервер возвращает название чата и имена его членов или сообщение об ошибке.</p></li>

<li><h4>messenger/send-message/ (POST)</h4>
<p>localhost:8000/api/v1/messenger/send-message</p>
<p>Отправить сообщение в приватный чат, принимает POST запросы типа:</p>
      
```json
{
    "message": {
        "text": text,
        "chatname": chat
    }
}
```
<p>В качестве text подаётся строковая переменная, содержащая текст сообщения, в качестве chat название чата.</p>
<p>В header запроса передаётся переменная Token, содержащая аутентификационный токен, полученный при авторизации.</p>
<p>В ответ сервер возвращает имя пользователя, написавшего сообщение, время написания, чат и текст сообщения или сообщение об ошибке.</p></li>

<li><h4>messenger/chat/<strong>CHAT</strong>/ (GET)</h4>
<p>localhost:8000/api/v1/messenger/chat/<strong>CHAT</strong></p>
<p>Получить сообщения из чата. Вместо <strong>CHAT</strong> в адресной строке указывается название искомого чата. Доступно только членам чата или администраторам. Принимает GET запросы.</p>
<p>В header запроса передаётся переменная Token, содержащая аутентификационный токен, полученный при авторизации.</p>
<p>В тело запроса не передаётся данных.</p>
<p>В ответ сервер возвращает список сообщений в чате отсортированный по дате написания или сообщение об ошибке.</p></li>
</ul>
